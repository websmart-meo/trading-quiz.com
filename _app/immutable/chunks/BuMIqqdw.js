import{l as I,m as B,n as S,o as Y,q as P,v as R,w as p,x as U,y as x,z as y,A as F,B as C,E as $,C as H,H as q,D as z,F as G,G as Z,I as O,J,K,L as D,M as Q,N as V,O as N,P as W,g,Q as X,R as j,S as k,T as ee,U as te,V as se,W as re,X as ae,Y as ne,Z as ie,_ as fe,f as ue,b as ce,$ as oe,a0 as le,a1 as de}from"./wsA9PU1U.js";import{l as _e}from"./DIeogL5L.js";class he{anchor;#t=new Map;#s=new Map;#e=new Map;#r=new Set;#a=!0;constructor(t,r=!0){this.anchor=t,this.#a=r}#n=()=>{var t=I;if(this.#t.has(t)){var r=this.#t.get(t),e=this.#s.get(r);if(e)B(e),this.#r.delete(r);else{var n=this.#e.get(r);n&&(this.#s.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),e=n.effect)}for(const[a,f]of this.#t){if(this.#t.delete(a),a===t)break;const i=this.#e.get(f);i&&(S(i.effect),this.#e.delete(f))}for(const[a,f]of this.#s){if(a===r||this.#r.has(a))continue;const i=()=>{if(Array.from(this.#t.values()).includes(a)){var o=document.createDocumentFragment();x(f,o),o.append(P()),this.#e.set(a,{effect:f,fragment:o})}else S(f);this.#r.delete(a),this.#s.delete(a)};this.#a||!e?(this.#r.add(a),Y(f,i,!1)):i()}}};#i=t=>{this.#t.delete(t);const r=Array.from(this.#t.values());for(const[e,n]of this.#e)r.includes(e)||(S(n.effect),this.#e.delete(e))};ensure(t,r){var e=I,n=y();if(r&&!this.#s.has(t)&&!this.#e.has(t))if(n){var a=document.createDocumentFragment(),f=P();a.append(f),this.#e.set(t,{effect:R(()=>r(f)),fragment:a})}else this.#s.set(t,R(()=>r(this.anchor)));if(this.#t.set(e,t),n){for(const[i,u]of this.#s)i===t?e.unskip_effect(u):e.skip_effect(u);for(const[i,u]of this.#e)i===t?e.unskip_effect(u.effect):e.skip_effect(u.effect);e.oncommit(this.#n),e.ondiscard(this.#i)}else p&&(this.anchor=U),this.#n()}}function me(s,t,r=!1){p&&C();var e=new he(s),n=r?$:0;function a(f,i){if(p){const l=H(s);var u;if(l===q?u=0:l===z?u=!1:u=parseInt(l.substring(1)),f!==u){var o=G();Z(o),e.anchor=o,O(!1),e.ensure(f,i),O(!0);return}}e.ensure(f,i)}F(()=>{var f=!1;t((i,u=0)=>{f=!0,a(u,i)}),f||a(!1,null)},n)}let b=!1,T=Symbol();function Se(s,t,r){const e=r[t]??={store:null,source:Q(void 0),unsubscribe:D};if(e.store!==s&&!(T in r))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=D;else{var n=!0;e.unsubscribe=V(s,a=>{n?e.source.v=a:N(e.source,a)}),n=!1}return s&&T in r?W(s):g(e.source)}function pe(){const s={};function t(){J(()=>{for(var r in s)s[r].unsubscribe();K(s,T,{enumerable:!1,value:!0})})}return[s,t]}function ve(s){var t=b;try{return b=!1,[s(),b]}finally{b=t}}function Te(s,t,r,e){var n=!_e||(r&se)!==0,a=(r&re)!==0,f=(r&de)!==0,i=e,u=!0,o=()=>(u&&(u=!1,i=f?ce(e):e),i),l;if(a){var M=ie in s||fe in s;l=X(s,t)?.set??(M&&t in s?c=>s[t]=c:void 0)}var _,A=!1;a?[_,A]=ve(()=>s[t]):_=s[t],_===void 0&&e!==void 0&&(_=o(),l&&(n&&oe(),l(_)));var d;if(n?d=()=>{var c=s[t];return c===void 0?o():(u=!0,c)}:d=()=>{var c=s[t];return c!==void 0&&(i=void 0),c===void 0?i:c},n&&(r&j)===0)return d;if(l){var w=s.$$legacy;return(function(c,v){return arguments.length>0?((!n||!v||w||A)&&l(v?d():c),c):d()})}var m=!1,h=((r&le)!==0?ue:ae)(()=>(m=!1,d()));a&&g(h);var L=ee;return(function(c,v){if(arguments.length>0){const E=v?g(h):n&&a?k(c):c;return N(h,E),m=!0,i!==void 0&&(i=E),c}return ne&&m||(L.f&te)!==0?h.v:g(h)})}export{he as B,pe as a,me as i,Te as p,Se as s};
